{"version":3,"file":"CellSelector.js","names":["sap","ui","define","PluginBase","KeyCodes","Core","Element","Log","DIRECTION","ROW","COL","CellSelector","extend","metadata","library","properties","rangeLimit","type","group","defaultValue","events","prototype","onActivate","oControl","this","_iRtl","getConfiguration","getRTL","addDelegate","_oSession","cellRefs","_mTimeouts","_fnControlUpdate","oEvent","_bScrolling","_scrollSelect","scrollForward","isVertical","_selectCells","bind","_fnOnMouseEnter","_onmouseenter","_fnOnMouseOut","_onmouseout","_fnOnMouseMove","_onmousemove","_fnOnMouseUp","onmouseup","_registerEvents","onDeactivate","removeDelegate","removeSelection","_deregisterEvents","destroy","getControl","isDestroyed","call","onBeforeRendering","_oResizer","remove","onAfterRendering","attachEvent","getConfig","oScrollArea","getDomRef","addEventListener","document","detachEvent","removeEventListener","getSelectionRange","_bSelecting","mSelectionRange","_getNormalizedBounds","mSource","mTarget","isNaN","from","rowIndex","to","iMaxColumnIndex","length","colIndex","Math","max","min","getSelectedRowContexts","getRangeLimit","onsapspace","_startSelection","onsapupmodifiers","_onsaparrowmodifiers","onsapdownmodifiers","onsapleftmodifiers","onsaprightmodifiers","sDirectionType","iRowDiff","iColDiff","isMarked","shiftKey","oSelectableCell","_getSelectableCell","target","oInfo","_inSelection","mBounds","focus","_getUpdatedBounds","preventDefault","setMarked","onsaphomemodifiers","onsapendmodifiers","onkeydown","isKeyCombination","A","onkeyup","undefined","SPACE","Infinity","onmousedown","ctrlKey","metaKey","_bMouseDown","_mClickedCell","_updateResizers","clientX","clientY","window","getSelection","removeAllRanges","_bBorderDown","oBorder","border","mDiff","oScrollAreaRef","oScrollAreaRect","getBoundingClientRect","bForward","bVertical","bottom","top","right","left","_doScroll","_clearScroller","scrollTimerId","setTimeout","row","col","sType","clearTimeout","_onborderdown","Object","assign","_oCurrentBorder","oDomRef","closest","oTarget","oBounds","bMove","oCellInfo","mStart","mOldFocus","mFocus","sAdjustRowType","sAdjustColType","mFrom","mTo","_clearSelection","_drawSelection","iRow","iCol","oCellRef","classList","toggle","setAttribute","push","oPrevCellRef","sClass","iPositionX","iPositionY","oResizer","_getResizer","oFromRef","oToRef","mOutOfBounds","oFromRect","oToRect","oTableRect","mStyleMap","x","width","y","height","mDiffMap","mFlags","abs","iDiffX","iDiffY","style","bXinRange","bYinRange","createElement","add","appendChild","forEach","removeAttribute","bKeepBounds","iMaxColumns","iMaxRows","toRowIndex","toColIndex","sKeyCode","bShift","bCtrl","keyCode","setConfigs","selectableCells","scrollArea","scrollEvent","getVisibleColumns","oTable","getColumns","filter","oColumn","getRowCount","_getTotalRowCount","getCellRef","mPosition","bRange","aRows","getRows","oRow","find","getIndex","oCell","getCells","$","getCellInfo","closestTo","indexOf","byId","getAttribute","loadContexts","iStartIndex","iLength","oBinding","getBinding","isA","getContexts","rowContexts","iFromIndex","iToIndex","iLimit","iMaxIndex","getAllCurrentContexts","aContexts","i","getContextByIndex","selectRows","iFrom","iTo","iFocus","oSelectionOwner","getPlugin","sSelectionMode","getSelectionMode","addSelectionInterval","setSelected","focusCell","scroll","iFirstVisibleRowIndex","getFirstVisibleRow","iIndex","setFirstVisibleRow","Promise","resolve","oScrollBar","_getScrollExtension","getHorizontalScrollbar","iScrollDiff","pow","scrollLeft"],"sources":["CellSelector-dbg.js"],"mappings":";;;;;AAKAA,IAAIC,GAAGC,OAAO,CACb,eACA,yBACA,mBACA,sBACA,gBACE,SAAUC,EAAYC,EAAUC,EAAMC,EAASC,GACjD,aAEA,IAAIC,EAAY,CACfC,IAAK,MACLC,IAAK,OAqBN,IAAIC,EAAeR,EAAWS,OAAO,6BAA8B,CAClEC,SAAU,CACTC,QAAS,QACTC,WAAY,CAcXC,WAAY,CAACC,KAAM,MAAOC,MAAO,WAAYC,aAAc,MAE5DC,OAAQ,CAAC,KAmBXT,EAAaU,UAAUC,WAAa,SAAUC,GAC7CC,KAAKC,MAAQpB,EAAKqB,mBAAmBC,UAAY,EAAI,EACrDJ,EAASK,YAAYJ,KAAM,KAAMA,MACjCA,KAAKK,UAAY,CAAEC,SAAU,IAC7BN,KAAKO,WAAa,CAAC,EACnBP,KAAKQ,iBAAmB,SAASC,GAChC,GAAIT,KAAKU,YAAa,CACrBV,KAAKW,cAAcX,KAAKK,UAAUO,cAAeZ,KAAKK,UAAUQ,WAAYJ,EAC7E,KAAO,CACNT,KAAKc,cACN,CACD,EAAEC,KAAKf,MACPA,KAAKgB,gBAAkBhB,KAAKiB,cAAcF,KAAKf,MAC/CA,KAAKkB,cAAgBlB,KAAKmB,YAAYJ,KAAKf,MAC3CA,KAAKoB,eAAiBpB,KAAKqB,aAAaN,KAAKf,MAC7CA,KAAKsB,aAAetB,KAAKuB,UAAUR,KAAKf,MAGxCA,KAAKwB,iBACN,EAEArC,EAAaU,UAAU4B,aAAe,SAAU1B,GAC/CA,EAAS2B,eAAe1B,KAAMA,MAC9B,GAAIA,KAAKK,UAAW,CACnBL,KAAK2B,kBACL3B,KAAKK,UAAY,KACjBL,KAAKO,WAAa,IACnB,CAEAP,KAAK4B,mBACN,EAEAzC,EAAaU,UAAUgC,QAAU,WAChC,GAAI7B,KAAK8B,eAAkB9B,KAAK8B,aAAaC,cAAe,CAC3D/B,KAAK2B,iBACN,CACA3B,KAAK4B,oBACL5B,KAAKK,UAAY,KACjBL,KAAKO,WAAa,KAElB,OAAO5B,EAAWkB,UAAUgC,QAAQG,KAAKhC,KAC1C,EAEAb,EAAaU,UAAUoC,kBAAoB,WAC1C,GAAIjC,KAAKkC,UAAW,CAEnBlC,KAAKkC,UAAUC,SACfnC,KAAKkC,UAAY,IAClB,CACD,EAEA/C,EAAaU,UAAUuC,iBAAmB,WACzCpC,KAAK4B,oBACL5B,KAAKwB,iBACN,EAEArC,EAAaU,UAAU2B,gBAAkB,WACxC,GAAIxB,KAAK8B,aAAc,CACtB9B,KAAK8B,aAAaO,YAAYrC,KAAKsC,UAAU,eAAgBtC,KAAKQ,kBAClE,IAAI+B,EAAcvC,KAAK8B,aAAaU,UAAUxC,KAAKsC,UAAU,eAC7D,GAAIC,EAAa,CAChBA,EAAYE,iBAAiB,aAAczC,KAAKkB,eAChDqB,EAAYE,iBAAiB,aAAczC,KAAKgB,gBACjD,CACD,CACA0B,SAASD,iBAAiB,YAAazC,KAAKoB,gBAC5CsB,SAASD,iBAAiB,UAAWzC,KAAKsB,aAC3C,EAEAnC,EAAaU,UAAU+B,kBAAoB,WAC1C,GAAI5B,KAAK8B,aAAc,CACtB9B,KAAK8B,aAAaa,YAAY3C,KAAKsC,UAAU,eAAgBtC,KAAKQ,kBAClE,IAAI+B,EAAcvC,KAAK8B,aAAaU,UAAUxC,KAAKsC,UAAU,eAC7DC,EAAYK,oBAAoB,aAAc5C,KAAKkB,eACnDqB,EAAYK,oBAAoB,aAAc5C,KAAKgB,gBACpD,CACA0B,SAASE,oBAAoB,YAAa5C,KAAKoB,gBAC/CsB,SAASE,oBAAoB,UAAW5C,KAAKsB,aAC9C,EAYAnC,EAAaU,UAAUgD,kBAAoB,WAC1C,IAAK7C,KAAK8C,YAAa,CACtB,OAAO,IACR,CAEA,IAAIC,EAAkB/C,KAAKgD,qBAAqBhD,KAAKK,UAAU4C,QAASjD,KAAKK,UAAU6C,QAAS,MAChG,GAAIC,MAAMJ,EAAgBK,KAAKC,WAAaF,MAAMJ,EAAgBO,GAAGD,UAAW,CAC/E,OAAO,IACR,CAEA,IAAIE,EAAkBvD,KAAKsC,UAAU,oBAAqBtC,KAAK8B,cAAc0B,OAAS,EACtFT,EAAgBK,KAAKK,SAAWC,KAAKC,IAAIZ,EAAgBK,KAAKK,SAAU,GACxEV,EAAgBO,GAAGG,SAAWC,KAAKE,IAAIb,EAAgBO,GAAGG,SAAUF,GACpER,EAAgBK,KAAKC,SAAWK,KAAKC,IAAIZ,EAAgBK,KAAKC,SAAU,GACxE,OAAON,CACR,EAWA5D,EAAaU,UAAUgE,uBAAyB,WAC/C,IAAId,EAAkB/C,KAAK6C,oBAC3B,IAAKE,EAAiB,CACrB,MAAO,EACR,CAEA,OAAO/C,KAAKsC,UAAU,cAAetC,KAAK8B,aAAciB,EAAgBK,KAAKC,SAAUN,EAAgBO,GAAGD,SAAUrD,KAAK8D,gBAC1H,EAEA3E,EAAaU,UAAUkE,WAAa,SAAUtD,GAC7CT,KAAKgE,gBAAgBvD,EAAQ,MAC9B,EAEAtB,EAAaU,UAAUoE,iBAAmB,SAASxD,GAClDT,KAAKkE,qBAAqBzD,EAAQzB,EAAUC,KAAM,EAAG,EACtD,EAEAE,EAAaU,UAAUsE,mBAAqB,SAAS1D,GACpDT,KAAKkE,qBAAqBzD,EAAQzB,EAAUC,IAAK,EAAG,EACrD,EAEAE,EAAaU,UAAUuE,mBAAqB,SAAS3D,GACpDT,KAAKkE,qBAAqBzD,EAAQzB,EAAUE,IAAK,GAAI,EACtD,EAEAC,EAAaU,UAAUwE,oBAAsB,SAAS5D,GACrDT,KAAKkE,qBAAqBzD,EAAQzB,EAAUE,IAAK,EAAG,EACrD,EAEAC,EAAaU,UAAUqE,qBAAuB,SAASzD,EAAQ6D,EAAgBC,EAAUC,GACxF,GAAI/D,EAAOgE,aAAehE,EAAOiE,SAAU,CAC1C,MACD,CAEA,IAAIC,EAAkB3E,KAAK4E,mBAAmBnE,EAAOoE,QACrD,IAAKF,EAAiB,CACrB,MACD,CAEA,IAAIG,EAAQ9E,KAAKsC,UAAU,cAAetC,KAAK8B,aAAc6C,GAC7D,IAAK3E,KAAK+E,aAAatE,EAAOoE,UAAY7E,KAAKK,UAAU4C,UAAYjD,KAAKK,UAAU6C,QAAS,CAE5FlD,KAAKK,UAAU4C,QAAUjD,KAAKK,UAAU6C,QAAU4B,CACnD,CAEA,IAAIE,EAAUhF,KAAKgD,qBAAqBhD,KAAKK,UAAU4C,QAASjD,KAAKK,UAAU6C,SAC/E,MAAME,KAAEA,EAAIE,GAAEA,EAAE2B,MAAEA,GAAUjF,KAAKkF,kBAAkBX,EAAUC,EAAWxE,KAAKC,MAAO6E,GAEpF,GAAIG,EAAMX,EAAiB,SAAW,GAAKW,EAAMxB,UAAYzD,KAAKsC,UAAU,oBAAqBtC,KAAK8B,cAAc0B,OAAQ,CAC3H,MACD,CAEAxD,KAAKsC,UAAU,YAAatC,KAAK8B,aAAcmD,EAAOV,EAAW,GACjE,GAAID,GAAkBtF,EAAUC,MAAQ6F,EAAMzB,UAAY2B,EAAQ5B,KAAKC,UAAYyB,EAAMzB,UAAY2B,EAAQ1B,GAAGD,WAC5GiB,GAAkBtF,EAAUE,MAAQ4F,EAAMrB,UAAYuB,EAAQ5B,KAAKK,UAAYqB,EAAMrB,UAAYuB,EAAQ1B,GAAGG,UAAW,CAC1HzD,KAAK8C,YAAc,KACnB9C,KAAKc,aAAasC,EAAME,GAExB7C,EAAO0E,iBACP1E,EAAO2E,YACP3E,EAAO2E,UAAU,+BAAgC,KAClD,CACD,EAGAjG,EAAaU,UAAUwF,mBAAqB,SAAU5E,GAAS,EAG/DtB,EAAaU,UAAUyF,kBAAoB,SAAU7E,GAAS,EAQ9DtB,EAAaU,UAAU0F,UAAY,SAAU9E,GAC5C,IAAKT,KAAK8C,aAAerC,EAAOgE,WAAY,CAC3C,MACD,CAEA,GAAIe,EAAiB/E,EAAQ7B,EAAS6G,EAAG,KAAM,OAASD,EAAiB/E,EAAQ7B,EAAS6G,EAAG,MAAO,OAAQ,CAC3GzF,KAAK2B,iBACN,CAEAlB,EAAO0E,gBACR,EAQAhG,EAAaU,UAAU6F,QAAU,SAASjF,GACzC,GAAIA,EAAOgE,WAAY,CACtB,MACD,CAEA,IAAIO,EAAUhF,KAAK8C,YAAc9C,KAAKgD,qBAAqBhD,KAAKK,UAAU4C,QAASjD,KAAKK,UAAU6C,SAAWyC,UAC7G,GAAIH,EAAiB/E,EAAQ7B,EAASgH,MAAO,KAAM,OAAQ,CAC1D,GAAI5F,KAAK+E,aAAatE,EAAOoE,QAAS,CACrC,IAAIC,EAAQ9E,KAAKsC,UAAU,cAAetC,KAAK8B,aAAcrB,EAAOoE,QACpE7E,KAAKsC,UAAU,aAActC,KAAK8B,aAAckD,EAAQ5B,KAAKC,SAAU2B,EAAQ1B,GAAGD,SAAUyB,EAAMzB,WAAarD,KAAK2B,kBACpHlB,EAAO2E,WACR,CACD,MAAO,GAAIpF,KAAK8C,aAAe0C,EAAiB/E,EAAQ7B,EAASgH,MAAO,MAAO,MAAO,CACrF,IAAK5F,KAAK+E,aAAatE,EAAOoE,QAAS,CAEtC,IAAIC,EAAQ9E,KAAKsC,UAAU,cAAetC,KAAK8B,aAAcrB,EAAOoE,QACpEG,EAAQ5B,KAAKK,SAAWuB,EAAQ1B,GAAGG,SAAWqB,EAAMrB,QACrD,CACAuB,EAAQ5B,KAAKC,SAAW,EACxB2B,EAAQ1B,GAAGD,SAAWwC,SACtB7F,KAAKc,aAAakE,EAAQ5B,KAAM4B,EAAQ1B,GACzC,CAEA7C,EAAO0E,gBACR,EAIAhG,EAAaU,UAAUiG,YAAc,SAASrF,GAC7C,GAAIA,EAAOgE,UAAYhE,EAAOgE,WAAY,CACzC,MACD,CAEA,GAAIhE,EAAOsF,SAAWtF,EAAOuF,QAAS,CACrChG,KAAKgE,gBAAgBvD,EACtB,CAEAT,KAAKiG,YAAc,KACnB,IAAItB,EAAkB3E,KAAK4E,mBAAmBnE,EAAOoE,QACrD,GAAIF,EAAiB,CACpB3E,KAAKkG,cAAgBlG,KAAKsC,UAAU,cAAetC,KAAK8B,aAAc6C,EACvE,CACD,EASAxF,EAAaU,UAAUwB,aAAe,SAASZ,GAE9C,GAAIT,KAAK8C,cAAgB9C,KAAKiG,YAAa,CAC1C,IAAIjB,EAAUhF,KAAKgD,qBAAqBhD,KAAKK,UAAU4C,QAASjD,KAAKK,UAAU6C,SAC/ElD,KAAKmG,gBAAgBnB,EAASvE,EAAO2F,QAAS3F,EAAO4F,QACtD,CAEA,IAAI1B,EAAkB3E,KAAK4E,mBAAmBnE,EAAOoE,QACrD,IAAKF,IAAoB3E,KAAKiG,YAAa,CAC1C,MACD,CAGA,IAAInB,EAAQ9E,KAAKsC,UAAU,cAAetC,KAAK8B,aAAc6C,GAC7D,GAAI3E,KAAKkG,eACLpB,EAAMzB,UAAYrD,KAAKkG,cAAc7C,UACrCyB,EAAMrB,UAAYzD,KAAKkG,cAAczC,SAAU,CAClD,MACD,CAGA6C,OAAOC,eAAeC,kBAEtB,GAAIxG,KAAKyG,eAAiBzG,KAAKU,YAAa,CAC3C,IAAIgG,EAAU1G,KAAKK,UAAUsG,OAC7B,IAAIC,EAAQ,CACXnD,SAAUN,MAAMuD,EAAQjD,UAAY,EAAIqB,EAAMrB,SAAWiD,EAAQjD,SACjEJ,SAAUF,MAAMuD,EAAQrD,UAAY,EAAIyB,EAAMzB,SAAWqD,EAAQrD,UAGlE,GAAIuD,EAAMvD,UAAY,GAAKuD,EAAMnD,UAAY,EAAG,CAC/C,MAAML,KAAEA,EAAIE,GAAEA,GAAOtD,KAAKkF,kBAAkB0B,EAAMvD,SAAUuD,EAAMnD,SAAUiD,GAE5E1G,KAAKc,aAAasC,EAAME,GAExBtD,KAAKK,UAAUsG,OAAOtD,UAAYuD,EAAMvD,SACxCrD,KAAKK,UAAUsG,OAAOlD,UAAYmD,EAAMnD,QACzC,CACD,KAAO,CACNzD,KAAKgE,gBAAgBvD,EAAQ,KAC9B,CACD,EAGAtB,EAAaU,UAAUsB,YAAc,SAASV,GAC7C,IAAIoG,EAAiB7G,KAAK8B,aAAaU,UAAUxC,KAAKsC,UAAU,eAEhE,IAAKuE,IAAmB7G,KAAKiG,YAAa,CAAE,MAAQ,CAEpD,IAAIa,EAAkBD,EAAeE,wBAErC,IAAIC,EAAUC,EACdjH,KAAKU,YAAc,MACnB,GAAID,EAAO4F,QAAUS,EAAgBI,QAAUzG,EAAO4F,QAAUS,EAAgBK,IAAK,CACpFnH,KAAKK,UAAUO,cAAgBoG,EAAWvG,EAAO4F,QAAUS,EAAgBI,OAC3ElH,KAAKK,UAAUQ,WAAaoG,EAAY,KACxCjH,KAAKU,YAAc,IACpB,CAEA,GAAID,EAAO2F,QAAUU,EAAgBM,OAAS3G,EAAO2F,QAAUU,EAAgBO,KAAM,CACpFrH,KAAKK,UAAUO,cAAgBoG,EAAWvG,EAAO2F,QAAUU,EAAgBM,MAC3EpH,KAAKK,UAAUQ,WAAaoG,EAAY,MACxCjH,KAAKU,YAAc,IACpB,CAEA,GAAIV,KAAKU,YAAa,CACrBV,KAAKsH,UAAUN,EAAUC,EAAWxG,EACrC,CACD,EAEAtB,EAAaU,UAAUoB,cAAgB,SAASR,GAC/CT,KAAKU,YAAc,MACnBV,KAAKuH,gBACN,EAEApI,EAAaU,UAAUyH,UAAY,SAASN,EAAUC,EAAWxG,GAChET,KAAKuH,iBACL,GAAIvH,KAAKU,YAAa,CACrBV,KAAKsC,UAAU,SAAUtC,KAAK8B,aAAckF,EAAUC,GACtDjH,KAAKO,WAAWiH,cAAgBC,WAAWzH,KAAKsH,UAAUvG,KAAKf,KAAMgH,EAAUC,GAAY,KAG3F,IAAKA,EAAW,CACfjH,KAAKW,cAAcqG,EAAUC,EAAWxG,EACzC,CACD,CACD,EAEAtB,EAAaU,UAAUc,cAAgB,SAASqG,EAAUC,EAAWxG,GACpE,IAAKT,KAAK8C,YAAa,CACtB,MACD,CACA,IAAIkC,EAAUhF,KAAKgD,qBAAqBhD,KAAKK,UAAU4C,QAASjD,KAAKK,UAAU6C,SAC/E,GAAIlD,KAAKU,YAAa,CACrB,IAAI4D,EAAiB2C,EAAYjI,EAAUC,IAAMD,EAAUE,IAC3D,IAAI0H,EAAQ,CAAEc,IAAO,EAAGC,IAAO,GAC/B,IAAIC,EAAQZ,EAAW,KAAO,OAE9BJ,EAAMtC,GAAkB0C,EAAW,GAAK,EACxC,MAAM5D,KAAEA,EAAIE,GAAEA,GAAOtD,KAAKkF,kBAAkB0B,EAAM5H,EAAUC,KAAM2H,EAAM5H,EAAUE,KAAM8F,EAAQ4C,IAChG5H,KAAKc,aAAasC,EAAME,EACzB,CACD,EAEAnE,EAAaU,UAAU0H,eAAiB,WACvC,GAAIvH,KAAKO,WAAWiH,cAAe,CAClClB,OAAOuB,aAAa7H,KAAKO,WAAWiH,eACpCxH,KAAKO,WAAWiH,cAAgB,IACjC,CACD,EAEArI,EAAaU,UAAU0B,UAAY,SAASd,GAC3CT,KAAKiG,YAAc,MACnBjG,KAAKyG,aAAe,MACpBzG,KAAKkG,cAAgBP,UACrB3F,KAAKU,YAAc,MACnBV,KAAKuH,gBACN,EAEApI,EAAaU,UAAUiI,cAAgB,SAASrH,GAC/CT,KAAKK,UAAUsG,OAASoB,OAAOC,OAAO,CAAC,EAAGhI,KAAKiI,iBAC/CjI,KAAKyG,aAAe,KACpBzG,KAAKiG,YAAc,IAEpB,EAOC9G,EAAaU,UAAU+E,mBAAqB,SAAUsD,GACtD,OAAOA,GAAWA,EAAQC,QAAQnI,KAAKsC,UAAU,mBAClD,EAEAnD,EAAaU,UAAUkF,aAAe,SAASqD,GAC9C,IAAItD,EAAQ9E,KAAKsC,UAAU,cAAetC,KAAK8B,aAAcsG,GAC7D,IAAKtD,IAAU9E,KAAKK,UAAU4C,UAAYjD,KAAKK,UAAU6C,QAAS,CACjE,OAAO,KACR,CAEA,IAAImF,EAAUrI,KAAKgD,qBAAqBhD,KAAKK,UAAU4C,QAASjD,KAAKK,UAAU6C,SAE/E,QAAS4B,EAAMzB,SAAWgF,EAAQjF,KAAKC,UAAYyB,EAAMzB,SAAWgF,EAAQ/E,GAAGD,UAC3EyB,EAAMrB,SAAW4E,EAAQjF,KAAKK,UAAYqB,EAAMrB,SAAW4E,EAAQ/E,GAAGG,SAC3E,EAEAtE,EAAaU,UAAUmE,gBAAkB,SAASvD,EAAQ6H,GACzD,GAAI7H,EAAOgE,UAAYhE,EAAOgE,WAAY,CACzC,MACD,CAEA,IAAI2D,EAAUpI,KAAK4E,mBAAmBnE,EAAOoE,QAC7C,IAAKuD,EAAS,CACb,MACD,CAEA,GAAIpI,KAAK+E,aAAaqD,KAAaE,EAAO,CACzCtI,KAAK2B,iBACN,KAAO,CACN,IAAI4G,EAAYvI,KAAKsC,UAAU,cAAetC,KAAK8B,aAAcsG,GACjE,IAAII,EAASxI,KAAKkG,cAAgBlG,KAAKkG,cAAgBqC,EAEvDvI,KAAK8C,YAAc,KACnB9C,KAAKK,UAAU4C,QAAUsF,EACzBvI,KAAKc,aAAa0H,EAAQD,GAC1BvI,KAAKsC,UAAU,YAAatC,KAAK8B,aAAcyG,EAChD,CAEA9H,EAAO0E,iBACP1E,EAAO2E,WAAa3E,EAAO2E,WAC5B,EAMAjG,EAAaU,UAAUqF,kBAAoB,SAASX,EAAUC,EAAUiE,GACvE,IAAIzD,EAAUhF,KAAKgD,qBAAqBhD,KAAKK,UAAU4C,QAASjD,KAAKK,UAAU6C,SAC/E,IAAIwF,EAASX,OAAOC,OAAO,CAAC,EAAGS,GAG/B,IAAIE,EAAiBD,EAAOrF,UAAY2B,EAAQ5B,KAAKC,SAAW,OAAS,KACzE,IAAIuF,EAAiBF,EAAOjF,UAAYuB,EAAQ5B,KAAKK,SAAW,OAAS,KAEzEuB,EAAQ2D,GAAgBtF,UAAYkB,EACpCS,EAAQ4D,GAAgBnF,UAAYe,EAEpC,IAAKxE,KAAKyG,aAAc,CACvBiC,EAAOrF,SAAWK,KAAKC,IAAI,EAAG+E,EAAOrF,SAAWkB,GAChDmE,EAAOjF,SAAWC,KAAKC,IAAI,EAAG+E,EAAOjF,SAAWe,EACjD,CAEA,MAAO,CACNpB,KAAM4B,EAAQ5B,KACdE,GAAI0B,EAAQ1B,GACZ2B,MAAOyD,EAET,EAkBAvJ,EAAaU,UAAUiB,aAAe,SAAU+H,EAAOC,EAAKJ,GAC3D,IAAK1I,KAAK8C,YAAa,CACtB,MACD,CAEA9C,KAAK+I,kBAELF,EAAQA,EAAQA,EAAQ7I,KAAKK,UAAU4C,QACvC6F,EAAMA,EAAMA,EAAM9I,KAAKK,UAAU6C,QACjC,IAAI8B,EAAUhF,KAAKgD,qBAAqB6F,EAAOC,GAE/C,GAAIA,EAAIzF,UAAYwC,UAAYgD,EAAMxF,UAAYwC,SAAU,CAC3D7F,KAAKsC,UAAU,eAAgBtC,KAAK8B,aAAckD,EAAQ5B,KAAKC,SAAUrD,KAAK8D,gBAC/E,CAEA9D,KAAKgJ,eAAehE,GAEpBhF,KAAKK,UAAU4C,QAAU4F,EACzB7I,KAAKK,UAAU6C,QAAU4F,CAC1B,EASA3J,EAAaU,UAAUmJ,eAAiB,SAAUhE,GACjD,IAAKA,EAAQ5B,OAAS4B,EAAQ1B,GAAI,CACjC,MACD,CAEAtD,KAAKK,UAAUC,SAAW,GAC1B,IAAK,IAAI2I,EAAOjE,EAAQ5B,KAAKC,SAAU4F,GAAQjE,EAAQ1B,GAAGD,SAAU4F,IAAQ,CAC3E,IAAK,IAAIC,EAAOlE,EAAQ5B,KAAKK,SAAUyF,GAAQlE,EAAQ1B,GAAGG,SAAUyF,IAAQ,CAC3E,IAAIC,EAAWnJ,KAAKsC,UAAU,aAActC,KAAK8B,aAAc,CAACuB,SAAU4F,EAAMxF,SAAUyF,IAC1F,GAAIC,EAAU,CACbA,EAASC,UAAUC,OAAO,6BAA8BJ,GAAQjE,EAAQ5B,KAAKC,UAC7E8F,EAASC,UAAUC,OAAO,gCAAiCJ,GAAQjE,EAAQ1B,GAAGD,UAC9E8F,EAASC,UAAUC,OAAO,+BAAgCH,GAAQlE,EAAQ1B,GAAGG,UAC7E0F,EAASC,UAAUC,OAAO,kCAAmC,MAC7DF,EAASG,aAAa,gBAAiB,QACvCtJ,KAAKK,UAAUC,SAASiJ,KAAKJ,GAG7B,GAAID,GAAQlE,EAAQ5B,KAAKK,SAAU,CAClC,MAAM+F,EAAexJ,KAAKsC,UAAU,aAActC,KAAK8B,aAAc,CAACuB,SAAU4F,EAAMxF,SAAUyF,EAAO,IACvG,IAAIO,EAAS,8BACb,GAAID,EAAc,CACjBL,EAAWK,EACXC,EAAS,+BACTzJ,KAAKK,UAAUC,SAASiJ,KAAKJ,EAC9B,CACAA,EAASC,UAAUC,OAAOI,EAAQP,GAAQlE,EAAQ5B,KAAKK,SACxD,CACD,CACD,CACD,CACD,EAEAtE,EAAaU,UAAUsG,gBAAkB,SAASnB,EAAS0E,EAAYC,GACtE,IAAIC,EAAW5J,KAAK6J,cAEpB,IAAIC,EAAW9J,KAAKsC,UAAU,aAActC,KAAK8B,aAAckD,EAAQ5B,KAAM,OAC5E2G,EAAS/J,KAAKsC,UAAU,aAActC,KAAK8B,aAAckD,EAAQ1B,GAAI,OACtE,IAAI0G,EAAe,CAAE,EAAG,MAAO,EAAG,OAElC,IAAKF,EAAU,CACdE,EAAa,GAAK,KAClBF,EAAW9J,KAAKsC,UAAU,aAActC,KAAK8B,aAAckD,EAAQ5B,KAAM,KAC1E,CAEA,IAAK2G,EAAQ,CACZC,EAAa,GAAK,KAClBD,EAAS/J,KAAKsC,UAAU,aAActC,KAAK8B,aAAckD,EAAQ1B,GAAI,KACtE,CAEA,IAAI2G,EAAYH,EAAS/C,wBACxBmD,EAAUH,EAAOhD,wBACjBoD,EAAanK,KAAK8B,aAAaU,YAAYuE,wBAE5C,IAAIqD,EAAY,CACfC,EAAG,CAAE,EAAGJ,EAAU5C,KAAM,EAAG6C,EAAQ7C,KAAO6C,EAAQI,OAClDC,EAAG,CAAE,EAAGN,EAAU9C,IAAMgD,EAAWhD,IAAK,EAAG+C,EAAQ/C,IAAM+C,EAAQM,OAASL,EAAWhD,MAEtF,IAAIsD,EAAW,CACdJ,EAAG,CAAE,EAAGX,EAAaO,EAAU5C,KAAM,EAAGqC,EAAaQ,EAAQ9C,OAC7DmD,EAAG,CAAE,EAAGZ,EAAaM,EAAU9C,IAAK,EAAGwC,EAAaO,EAAQhD,SAM7D,IAAIwD,EAAS,EACbA,GAAUhH,KAAKiH,IAAIF,EAASJ,EAAE,IAAM3G,KAAKiH,IAAIF,EAASJ,EAAE,IAAM,EAAI,EAClEK,GAAUhH,KAAKiH,IAAIF,EAASF,EAAE,IAAM7G,KAAKiH,IAAIF,EAASF,EAAE,IAAM,EAAI,EAElE,IAAIK,EAASlH,KAAKiH,IAAIF,EAASJ,EAAEK,EAAS,IAAKG,EAASnH,KAAKiH,IAAIF,EAASF,EAAGG,GAAU,EAAK,IAC5F,GAAIE,EAAS,IAAMC,EAAS,IAAMD,EAAS,IAAMZ,EAAcU,GAAU,EAAK,GAAI,CACjF,MACD,CAEAd,EAASkB,MAAMzD,KAAOuD,GAAU,GAAKR,EAAUC,EAAEK,EAAS,GAAK,KAAON,EAAUC,EAAE,GAAK,KACvFT,EAASkB,MAAM3D,IAAM0D,GAAU,GAAKT,EAAUG,EAAGG,GAAU,EAAK,GAAK,KAAON,EAAUG,EAAE,GAAK,KAC7FX,EAASkB,MAAMR,MAAQM,GAAU,GAAK,GAAKV,EAAQ9C,MAAQ6C,EAAU5C,KAAO,KAC5EuC,EAASkB,MAAMN,OAASI,GAAU,GAAKV,EAAQhD,OAAS+C,EAAU9C,IAAM,KAAO,GAE/E,MAAM4D,EAAYH,GAAU,GAAII,EAAYH,GAAU,GACtDjB,EAASR,UAAUC,OAAO,4BAA6B0B,GACvDnB,EAASR,UAAUC,OAAO,8BAA+B2B,GACzDpB,EAASR,UAAUC,OAAO,kBAAmB0B,GAAaC,GAC1DpB,EAASR,UAAUC,OAAO,kBAAmB0B,GAAaC,IAAcN,GAAU,GAAKA,GAAU,IACjGd,EAASR,UAAUC,OAAO,kBAAmB0B,GAAaC,IAAcN,GAAU,GAAKA,GAAU,IAEjG1K,KAAKiI,gBAAkB,CAAC,EACxB,GAAI8C,EAAW,CACd/K,KAAKiI,gBAAgBxE,SAAWiH,EAAS,EAAI1F,EAAQ1B,GAAGG,SAAWuB,EAAQ5B,KAAKK,SAChFzD,KAAKiI,gBAAgBxI,KAAOT,EAAUE,GACvC,CAEA,GAAI8L,EAAW,CACdhL,KAAKiI,gBAAgB5E,SAAYqH,GAAU,EAAK,EAAI1F,EAAQ1B,GAAGD,SAAW2B,EAAQ5B,KAAKC,SACvFrD,KAAKiI,gBAAgBxI,KAAOT,EAAUC,GACvC,CACD,EAEAE,EAAaU,UAAUgK,YAAc,WACpC,IAAK7J,KAAKkC,UAAW,CACpBlC,KAAKkC,UAAYQ,SAASuI,cAAc,OACxCjL,KAAKkC,UAAUoH,aAAa,KAAM,UAClCtJ,KAAKkC,UAAUkH,UAAU8B,IAAI,8BAE7BlL,KAAKkC,UAAUO,iBAAiB,YAAazC,KAAK8H,cAAc/G,KAAKf,OAErEA,KAAK8B,aAAaU,YAAY2I,YAAYnL,KAAKkC,UAChD,CACA,OAAOlC,KAAKkC,SACb,EAEA/C,EAAaU,UAAUkJ,gBAAkB,WACxC/I,KAAKK,UAAUC,SAAS8K,QAAQ,SAASjC,GACxCA,EAASC,UAAUjH,OAAO,kCAAmC,6BAA8B,gCAAiC,8BAA+B,gCAC3JgH,EAASkC,gBAAgB,gBAC1B,GACA,IAAIzB,EAAW5J,KAAK6J,cACpBD,EAASkB,MAAMzD,KAAO,WACtBuC,EAASkB,MAAM3D,IAAM,UACtB,EAKAhI,EAAaU,UAAU8B,gBAAkB,WACxC3B,KAAK+I,kBAEL/I,KAAK8C,YAAc,MACnB9C,KAAKK,UAAY,CAAEC,SAAU,GAC9B,EAcAnB,EAAaU,UAAUmD,qBAAuB,SAAS6F,EAAOC,EAAKwC,GAClE,MAAMC,EAAcvL,KAAKsC,UAAU,oBAAqBtC,KAAK8B,cAAc0B,OAC3E,MAAMgI,EAAWxL,KAAK8D,iBAAmB,EAAI9D,KAAKsC,UAAU,cAAetC,KAAK8B,cAAgB9B,KAAK8D,gBAErG,IAAI2H,EAAa/H,KAAKC,IAAIkF,EAAMxF,SAAUyF,EAAIzF,UAC9C,IAAIqI,EAAchI,KAAKC,IAAIkF,EAAMpF,SAAUqF,EAAIrF,UAE/C,IAAK6H,EAAa,CACjBG,EAAa/H,KAAKE,IAAI4H,EAAW,EAAGC,GACpCC,EAAahI,KAAKE,IAAI2H,EAAaG,EACpC,CAEA,MAAO,CACNtI,KAAM,CAACC,SAAUK,KAAKC,IAAI,EAAGD,KAAKE,IAAIiF,EAAMxF,SAAUyF,EAAIzF,WAAYI,SAAUC,KAAKC,IAAI,EAAGD,KAAKE,IAAIiF,EAAMpF,SAAUqF,EAAIrF,YACzHH,GAAI,CAACD,SAAUoI,EAAYhI,SAAUiI,GAEvC,EAUA,SAASlG,EAAiB/E,EAAQkL,EAAUC,EAAQC,GACnD,OAAOpL,EAAOqL,SAAWH,GAAYlL,EAAOiE,UAAYkH,IAAWnL,EAAOsF,SAAW8F,GAASpL,EAAOuF,SAAW6F,EACjH,CAEAlN,EAAWoN,WAAW,CACrB,qBAAsB,CACrBC,gBAAiB,sBACjBC,WAAY,oBACZC,YAAa,eAMbC,kBAAmB,SAAUC,GAC5B,OAAOA,EAAOC,aAAaC,OAAO,SAAUC,GAC3C,OAAOA,EAAQ/J,WAChB,EACD,EACAgK,YAAa,SAASJ,GACrB,OAAOA,EAAOK,mBACf,EASAC,WAAY,SAAUN,EAAQO,EAAWC,GACxC,IAAIC,EAAQT,EAAOU,UACnB,IAAIC,EAAOF,EAAMG,KAAK,SAASD,GAC9B,OAAOA,EAAKE,YAAcN,EAAUtJ,QACrC,GACA,GAAI0J,EAAM,CACT,IAAIR,EAAUvM,KAAKmM,kBAAkBC,GAAQO,EAAUlJ,UACvD,IAAIyJ,EAAQX,GAAWQ,EAAKI,WAAWR,EAAUlJ,UACjD,GAAIyJ,EAAO,CACV,OAAOA,EAAME,IAAIjF,QAAQnI,KAAKgM,iBAAiB,EAChD,CACD,MAAO,GAAIY,EAAQ,CAClB,GAAIC,EAAM,GAAGI,WAAaN,EAAUtJ,SAAU,CAC7C0J,EAAOF,EAAM,GACb,IAAIN,EAAUvM,KAAKmM,kBAAkBC,GAAQO,EAAUlJ,UACvD,IAAIyJ,EAAQX,GAAWQ,EAAKI,WAAWR,EAAUlJ,UACjD,GAAIyJ,EAAO,CACV,OAAOA,EAAME,IAAIjF,QAAQnI,KAAKgM,iBAAiB,EAChD,CACD,MAAO,GAAIa,EAAMA,EAAMrJ,OAAS,GAAGyJ,WAAaN,EAAUtJ,SAAU,CACnE0J,EAAOF,EAAMA,EAAMrJ,OAAS,GAC5B,IAAI+I,EAAUvM,KAAKmM,kBAAkBC,GAAQO,EAAUlJ,UACvD,IAAIyJ,EAAQX,GAAWQ,EAAKI,WAAWR,EAAUlJ,UACjD,GAAIyJ,EAAO,CACV,OAAOA,EAAME,IAAIjF,QAAQnI,KAAKgM,iBAAiB,EAChD,CACD,CACD,CACD,EAOAqB,YAAa,SAAUjB,EAAQhE,GAC9B,MAAO,CACN/E,SAAUvE,EAAQwO,UAAUlF,EAAS,MAAM6E,WAC3CxJ,SAAUzD,KAAKmM,kBAAkBC,GAAQmB,QAAQ1O,EAAK2O,KAAKpF,EAAQqF,aAAa,uBAElF,EAQAC,aAAc,SAAStB,EAAQuB,EAAaC,GAC3C,IAAIC,EAAWzB,EAAO0B,WAAW,QACjC,IAAKD,GAAYA,EAASE,IAAI,kCAAmC,CAChE,MACD,CAEAF,EAASG,YAAYtK,KAAKC,IAAI,EAAGgK,GAAcjK,KAAKC,IAAI,EAAGiK,GAAU,EAAG,KACzE,EASAK,YAAa,SAAS7B,EAAQ8B,EAAYC,EAAUC,GACnD,GAAID,GAAYtI,SAAU,CACzB,IAAIwI,EAAYjC,EAAO0B,WAAW,QAAQQ,wBAAwB9K,OAAS,EAC3E2K,EAAWzK,KAAKE,IAAIuK,EAAUD,EAAaE,EAAS,EAAGC,EACxD,CAEA,IAAIE,EAAY,GAChB,IAAK,IAAIC,EAAIN,EAAYM,GAAKL,EAAUK,IAAK,CAC5CD,EAAUhF,KAAK6C,EAAOqC,kBAAkBD,GACzC,CACA,OAAOD,CACR,EAQAG,WAAY,SAAStC,EAAQuC,EAAOC,EAAKC,GACxC,IAAIC,EAAkBnQ,EAAWoQ,UAAU3C,EAAQ,yCAA2CA,EAC9F,IAAI4C,EAAiB5C,EAAO6C,mBAE5B,GAAID,GAAkB,OAAQ,CAC7B,OAAO,KACR,MAAO,GAAIA,GAAkB,SAAU,CACtCL,EAAQC,EAAMC,CACf,CAEA,GAAIC,EAAgBI,qBAAsB,CACzCJ,EAAgBI,qBAAqBP,EAAOC,GAC5C,OAAO,IACR,CAGA,IAAI/B,EAAQT,EAAOU,UAAUR,OAAO,SAASS,GAC5C,OAAOA,EAAKE,YAAc0B,GAAS5B,EAAKE,YAAc2B,CACvD,GACA/B,EAAMzB,QAAQ,SAAS2B,GACtB+B,EAAgBK,YAAYpC,EAAM,KACnC,GACA,OAAO,IACR,EACAqC,UAAW,SAAShD,EAAQ1D,EAAQ1B,GACnC,IAAImC,EAAWnJ,KAAK0M,WAAWN,EAAQ1D,GACvC,IAAKS,EAAU,CACdnJ,KAAKqP,OAAOjD,EAAQpF,EAAU,MAC9B,MACD,CACAmC,EAASlE,OACV,EACAoK,OAAQ,SAASjD,EAAQpF,EAAUC,GAClC,GAAIA,EAAW,CACd,IAAIqI,EAAwBlD,EAAOmD,qBACnC,IAAIC,EAASxI,EAAWsI,EAAwB,EAAIA,EAAwB,EAC5E,GAAIE,GAAU,GAAKA,GAAUF,EAAuB,CACnDlD,EAAOqD,mBAAmBD,GAC1B,OAAOE,QAAQC,SAChB,CACD,KAAO,CACN,IAAIC,EAAaxD,EAAOyD,sBAAsBC,yBAC9C,IAAIC,EAAcrM,KAAKsM,KAAK,IAAKhJ,GAAY,GAE7C4I,EAAWK,WAAavM,KAAKC,IAAI,EAAGiM,EAAWK,WAAaF,GAC5D,OAAOL,QAAQC,SAChB,CACA,OAAO,KACR,IAECxQ,GAEH,OAAOA,CACR"}