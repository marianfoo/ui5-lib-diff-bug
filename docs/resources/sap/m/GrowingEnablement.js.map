{"version":3,"file":"GrowingEnablement.js","names":["sap","ui","define","BaseObject","Library","RenderManager","NumberFormat","library","ChangeReason","ManagedObjectMetadata","ManagedObjectObserver","HTML","CustomListItem","encodeXML","jQuery","ListType","ListGrowingDirection","GrowingEnablement","extend","constructor","oControl","apply","this","_oControl","bUseExtendedChangeDetection","addDelegate","iRenderedItemsLength","getItems","length","_iRenderedDataItems","_iLimit","_bLoading","_sGroupingPath","_bDataRequested","_bSkippedItemsUpdateUntilDataReceived","_iLastItemsCount","_iTriggerTimer","_aChunk","_oRM","_aItemsPool","destroy","_oTrigger","_oScrollDelegate","setGrowingList","_oObserver","disconnect","clearItemsPool","$","remove","removeDelegate","render","oRm","openStart","getId","class","style","openEnd","renderControl","_getTrigger","close","onAfterRendering","getGrowingScrollToLoad","oScrollDelegate","getScrollDelegate","onScrollToLoad","bind","getGrowingDirection","_updateTrigger","_updateTriggerDelayed","onsapdown","oEvent","_oItemNavigation","isMarked","aItemDomRefs","getItemDomRefs","sDir","Upwards","type","target","$Trigger","trigger","setMarked","stopImmediatePropagation","getDomRef","onsapup","setTriggerText","sText","text","reset","bPageSizeOnly","oBindingInfo","getBindingInfo","oExtendedChangeDetectionConfig","template","replace","forEach","oItem","shouldReset","sChangeReason","mChangeReason","Sort","Filter","Context","getInfo","total","getMaxItemsCount","actual","_oScrollPosition","left","getScrollLeft","top","getScrollHeight","requestNewPage","oBinding","getBinding","isLengthFinal","_bBusy","getGrowingThreshold","updateItems","_onBeforePageLoaded","onBeforePageLoaded","_onAfterPageLoaded","onAfterPageLoaded","sTriggerID","sTriggerText","getGrowingTriggerText","getResourceBundleFor","getText","addNavSection","id","busyIndicatorDelay","Active","content","getList","TagName","setGroupedItem","setParent","attachPress","onsapenter","preventDefault","onsapspace","_bSpaceKeyPressed","setActive","onkeydown","_bSpaceKeyCancelled","shiftKey","which","onkeyup","$oTrigger","removeAttr","attr","tabindex","role","_getListItemInfo","aCounts","_getItemCounts","oFormat","getFloatInstance","format","_getGroupingPath","aSorters","oSorter","sPath","_getDomIndex","vIndex","hasPopin","_getHasScrollbars","window","innerHeight","getMaxScrollTop","offsetHeight","destroyListItems","bSuppressInvalidate","destroyItems","addListItem","oContext","binding","createListItem","isGrouped","aItems","oLastItem","sModelName","model","oGroupInfo","getGroup","getBindingContext","isGroupHeader","removeAggregation","setLastGroupHeader","_fnAppendGroupItem","appendGroupItem","key","oGroupHeader","groupHeaderFactory","getGroupHeaderTemplate","applyPendingGroupItem","oLastGroupHeader","getLastGroupHeader","invalidate","addAggregation","push","undefined","addItemGroup","fillItemsPool","oTemplate","i","iLimit","Math","min","factory","getCells","observe","aggregations","shift","setBindingContext","createItem","updateItemsBindingContext","aContexts","oModel","c","applyChunk","vInsert","bAsync","iTimer","_iChunkTimer","iLength","oDomRef","getItemsContainerDomRef","clearTimeout","shouldRenderItems","reverse","_bHadFocus","contains","document","activeElement","flush","focus","getBusy","applyChunkAsync","_bApplyChunkAsync","setTimeout","addListItems","rebuildListItems","insertListItem","iIndex","insertAggregation","deleteListItem","refreshItems","isA","checkGrowingFromScratch","attachEventOnce","getContexts","sGroupingPath","dataRequested","diff","aDiff","shouldGrowingSuppressInvalidation","bFromScratch","vInsertIndex","oDiff","index","removeGroupHeaders","iLastInsertIndex","iDiffIndex","_onBindingDataReceivedListener","getParameter","bLoading","oTrigger","bVisibleItems","getVisibleItems","setBusy","toggleClass","css","iItemsLength","iBindingLength","getLength","bLengthFinal","bHasScrollToLoad","oTriggerDomRef","getNavigationRoot","_iFocusTimer","oFocusTarget","removeClass","oBundle","addClass","adaptTriggerButtonWidth","oScrollPosition","scrollTo","shouldRenderDummyColumn","requestAnimationFrame","sCalWidth","Array","from","childNodes","slice","map","sWidth","width","includes","getBoundingClientRect","join","classList","add","sIdSuffix","uid"],"sources":["GrowingEnablement-dbg.js"],"mappings":"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"}